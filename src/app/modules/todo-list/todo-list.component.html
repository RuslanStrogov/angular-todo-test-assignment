<div class="todo-list-wrapper" *ngIf="(todoList$ | async) as todoList">
  <div class="mx-auto col-10">
    <h5>Todo list</h5>
    <hr>

    <div>
      Todos created today: {{todoList | duedateTodayCount}}
    </div>

    <hr>

    <app-cards-list [tableRef]="todoListRef" [cardRef]="todoItemCardRef" [data]="todoList"></app-cards-list>
  </div>

  <hr>

  <app-add-todo [currentTODO]="selectedTodoForEdit$ | async" (todoItemEdit)="todoItemEdit($event)" (todoItemCreate)="todoItemCreate($event)"></app-add-todo>
</div>

<ng-template #todoItemCardRef let-todo="data">
  <app-todo-item-card [todoItem]="todo" (todoDelete)="deleteTodo($event)" (todoEdit)="setTodoForEdit($event)"></app-todo-item-card>
</ng-template>

<ng-template #todoListRef let-todos="data">
  <ul class="list-group mb-3">
    <app-todo-item-list-row *ngFor="let todo of todos; trackBy: trackByFn" [todoItem]="todo" (todoDelete)="deleteTodo($event)" (todoComplete)="todoItemEdit ($event)" (todoEdit)="setTodoForEdit($event)"></app-todo-item-list-row>
  </ul>
</ng-template>
